# 目的
Webアプリを自力で作成し、学習の成果を示す。
冗長な作業や作業内容の図示にAIを用いて、コーディングはコピペせずすべて自分の手で行う。

# マイルストーン
6/13(金) メンバー内発表会
6/25(水) 全社会議

# 成果物
- WBS・ガントチャート(Redmineで作成)
- 要件定義書
- 画面遷移図(紙面)
- ソースコード(DDL含む)
- テストコード(GitHub)
- 動くアプリ
- プレゼン用動画
- テスト仕様書/テスト結果報告書


# 機能要件
## ブラックジャック
- 初期カードは52枚です。(4種*13枚)
- 引く際にカードの重複は無いようにします。
- プレイヤーとディーラーの2人対戦です。プレイヤーは実行者、ディーラーは自動的に実行されます。
- 実行開始時、プレイヤーとディーラーはそれぞれ、カードを2枚引きます。
- 引いたカードは画面に表示します。ディーラーの二枚目のカードは数字がわからないようにします。
1. プレイヤーが一枚引きます。
2. ディーラーが一枚引きます。
3. プレイヤーがもう一枚引きます。
4. ディーラーがもう一枚引き、表示が見えないように裏返します。

- カード配布後、プレイヤーは以下の1.2.の動作を、「カードを引かない」ことを選択するまで繰り返します。
1. プレイヤーは手札をもう一枚引くか、もう引かない（スランド）かを選択します。
2. カードを引き、プレイヤーの合計値にカードに応じた数値が加算されます。
>- JとQとKは10として扱います。
>- Aはとりあえず「11」にはせず、「1」としてだけ扱うことにします。
>- ダブルダウン、スプリット、サレンダー、その他特殊そうなルールは実装しないことにします。

**プレイヤーが21を超えていたらバーストしてプレイヤーの負け、その時点でゲーム終了**

- プレイヤーが引き終えたら、その後ディーラーは手札の二枚目を公開し、自分の手札が17以上になるまで引き続けます。
- プレイヤーとディーラーが引き終えたら勝負します。より21に近い方の勝ちです。
- ゲームが終了したら勝敗結果を表示します。

## ユーザー管理機能
### ログイン機能
- ユーザー名とパスワードを入力します。
- パスワードを照合し、一致したらログイン成功です。
- ログアウトボタンを押したら、ログインしているアカウントからログアウトします。
### ユーザー追加・削除
- 利用者はユーザー名とパスワードを指定して新規ユーザーの登録ができます。ユーザー名は重複していないかを確認します。
- ログインした状態でユーザ削除ボタンを押すと、アカウントとそのデータが消去され、ログアウト状態になります。
- 管理権限を持ったアカウントでログインしている場合、他のユーザの削除・一覧が可能になる。
- 管理権限を持ったアカウントは新たに作成できず、消去できません。
### 自分の戦績表示
- アカウント名の表示
- 何勝何敗何分の表示
- 勝率(%)の計算と表示
- (機能追加時に実装)いま何枚チップを持っているかを表示します。
- 借金の有無
### 勝率トップ5
- 全ユーザーの勝率トップ5を表示します。
- ユーザー名、何勝何敗何分、勝率(%)を表示します。

## 追加機能
- スプリット機能の導入
>### スプリット
> 最初の２枚のカードがペアのとき、別々の手札に分けて倍賭けできます。
- 勝ち負けの廃止
- チップの導入
>### チップ
>-  1～10で賭けます。
>-	初期の所持チップは100で、いくらでも借金可能です。
>-  借金時は負の数字で表示します。
- ランキングをチップの所持数順に変更します。
- 戦績はチップの勝ち負け(±どれだけ稼げたか)で計算します。
- 勝敗表示は手札ごとに表示します。(スプリットの場合は2つ表示される)
>### 勝利表示とチップ倍率
>- 合計21で勝利⇒**BLACKJACK**/2.5倍(切り捨て)
>- それ以外の勝利⇒**WIN**/2倍
>- 負け⇒**LOSE**.../賭け分を没収
>- 引き分け⇒**DRAW**/1倍

# 非機能要件
## 環境
DB:MariaDB v10.4.32
サーバ:Tomcat v9.0.102
Java Servlet + JSP
ランタイム:Java21
ローカルサーバーで動作させる

## 開発ルール
- 成果物は出来上がり次第チャットルームで展開
- 提出場所は提出フォルダ、または指定の場所に置く
- レビュワー:メインは江田、チャットルームのメンバー、チャットルーム上に残す
- 手が止まったらすぐ報告する
- コーディングルールはPleiadesのフォーマッターに準じる
  - SpotBugsでバグが出なくなるのが目標
- Redmineで進捗管理
レビュー依頼: 80%, レビュー(1回目)完了: 90%, レビュー指摘がなくなったら100%
- 担当者がステータスを更新
- コードは帰る前にgithubにプッシュする


### 更新履歴
v1.0 25/05/26 鈴木 初版作成
v1.1 25/05/27 鈴木 目的を追加
v1.2 25/05/29 鈴木 目的を更新・マイルストーン/成果物/非機能要件の追加